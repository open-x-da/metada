analyse firstly, show the procedure step by step, change codes with confirmation.